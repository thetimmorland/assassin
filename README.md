# Template

## Architecture

- A backend written using [FastAPI](https://fastapi.tiangolo.com/)
- A frontend written using [React](https://reactjs.org/)
  - Accesses backend via client generated by
    [open-api-typescript-codegen](https://github.com/ferdikoomen/openapi-typescript-codegen)

## Dependencies

To ensure consistent Python and Node.js versions a `.tool-versions` has been
checked into this repository. This file works with `asdf` to setup the correct
version of each tool. Install asdf on your machine using these instructions:
https://asdf-vm.com/guide/getting-started.html, then use the commands below.

```sh
$ git clone https://github.com/thetimmorland/assassin $ASSASSIN
$ cd $ASSASSIN
$ asdf plugin add python
$ asdf plugin add nodejs
$ asdf install
```

If everything is setup correctly you should see the following output when you
run `asdf current`.

```
nodejs          $NODE_VERSION         $DOOR_SIGNS/.tool-versions
python          $PYTHON_VERSION       $DOOR_SIGNS/tool-versions
```

Next you can move onto installing project dependencies.

```sh
# install Python dependency manager
$ pip install poetry
# VSCode prefers virtual environment in project
$ poetry config virutalenvs.in-project true
# install Python dependencies
$ poetry install
# install Node.js dependencies
$ yarn install
```

## Development

Day development commands are provided through the root `package.json`. Here are
some examples:

```sh
# list frontend commands
$ yarn frontend
# list backend commands
$ yarn backend

# start the backend
$ yarn backend start
# generate the client (backend must be running)
$ yarn frontend generate-client
# start the frontend
$ yarn frontend start
# format code
$ yarn format
```
